from SolutionSearch.SolutionSearch import *
func = {4:[0xab12]}
func = {3:[172]}
func = {5:[0xa8dd9b51]}

solution_search(func,SearchPolicy.RL,1)
solution_search(func,SearchPolicy.GREEDY,10)
data = solution_search(func,SearchPolicy.REGULARIZATION,1)


from SolutionSearch.SolutionSearch import *
equivalence_classes_solution_search(SearchPolicy.RL,10)

from SolutionSearch.SolutionSearch import *
equivalence_classes_solution_search(SearchPolicy.GREEDY,10)


from SolutionSearch.SolutionSearch import *
data = dimension_solution_search(SearchPolicy.REGULARIZATION,4,10)


from SolutionSearch.SolutionSearch import *

configurations = [
[LossFunction.MSE, RegularizationFunction.HOYER_SQUARE, False],
[LossFunction.MSE, RegularizationFunction.L1, False],
[LossFunction.MSE, RegularizationFunction.HOYER_SQUARE_AND_L1, False],
[LossFunction.RELU, RegularizationFunction.HOYER_SQUARE, True],
[LossFunction.RELU, RegularizationFunction.L1, True],
[LossFunction.RELU, RegularizationFunction.HOYER_SQUARE_AND_L1, True],
[LossFunction.EXPONENTIAL, RegularizationFunction.HOYER_SQUARE, True],
[LossFunction.EXPONENTIAL, RegularizationFunction.L1, True],
[LossFunction.EXPONENTIAL, RegularizationFunction.HOYER_SQUARE_AND_L1, True]
]

configurations = [
[LossFunction.RELU, RegularizationFunction.HOYER_SQUARE_AND_L1, True]
]

for configuration in configurations:
    conf = PruneRunnerConfiguration()
    conf.loss_function = configuration[0]
    conf.regularization_function = configuration[1]
    conf.regularization_strength = 0.05
    conf.simple_model = configuration[2]
    dimension_solution_search(SearchPolicy.REGULARIZATION,5,10,arguments=conf)
    dimension_solution_search(SearchPolicy.REGULARIZATION,6,10,arguments=conf)

from SolutionSearch.SolutionSearch import *
dir="/home/oytun/PycharmProjects/research/Data/solution_search/RL/2023-04-18 11:26:32.687699"
process_data(output_dir=dir, data_dir=dir, data_name="dictionary")

[configurations[3]]
func = {4:[0xab12]}
data = solution_search(func,SearchPolicy.REGULARIZATION,10,arguments=conf)

dir="/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-19 03:37:28.026865"
from SolutionSearch.SolutionSearch import *
from Utils.DumpOutputs import load_csv
x = load_csv(dir, max_csv_file_name(6))

from SolutionSearch.AnalysisPlots import *

dirs = ['/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-16 17:04:42.587037',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-16 17:31:13.297634',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-16 18:06:15.017841',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-16 18:37:48.819635',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-16 19:05:49.485558',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-16 19:40:27.777790',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-16 20:11:42.163708',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-16 20:38:37.056752',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-16 21:15:13.772229']
compare_theoretical_2d(4,dirs,None, AnalysisPolicy.AVERAGE, True)
regularization_compare_bar(4,dirs, AnalysisPolicy.THEORETICAL_COMPARE, True)
regularization_compare_bar(4,dirs, AnalysisPolicy.MAX,True)

regularization_compare(4,dirs, AnalysisPolicy.AVERAGE, True)


from SolutionSearch.AnalysisPlots import *

dirs = ['/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-17 11:07:14.720637',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-17 22:01:55.656421',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-23 13:11:12.025469']
regularization_compare_2d(5,dirs, AnalysisPolicy.AVERAGE,
output_directory="/home/oytun/PycharmProjects/research/Data/solution_search", file_name_prefix="fig")
regularization_compare_bar(5,dirs, AnalysisPolicy.AVERAGE, True)
regularization_compare_bar(5,dirs, AnalysisPolicy.MAX, True)


from SolutionSearch.AnalysisPlots import *

dirs = ['/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-19 03:37:28.026865',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-19 06:29:00.802358',
'/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-23 16:25:23.364819']
regularization_compare_bar(6,dirs, AnalysisPolicy.AVERAGE)
regularization_compare_bar(6,dirs, AnalysisPolicy.AVERAGE, True)
regularization_compare_bar(6,dirs, AnalysisPolicy.MAX, True)


from SolutionSearch.AnalysisPlots import *
graph_labels=["REG", "RL", "GREEDY"]
dirs = ['/home/oytun/PycharmProjects/research/Data/solution_search/REGULARIZATION/2023-04-17 11:07:14.720637',
'/home/oytun/PycharmProjects/research/Data/solution_search/RL/2023-04-18 11:26:32.687699',
'/home/oytun/PycharmProjects/research/Data/solution_search/GREEDY/2023-04-23 22:51:31.942845']
compare_theoretical_2d(5,dirs, graph_labels.copy(), AnalysisPolicy.AVERAGE,
output_directory="/home/oytun/PycharmProjects/research/Data/solution_search",
file_name_prefix=None)

compare_bar(5,dirs, graph_labels, AnalysisPolicy.AVERAGE, True,
output_directory="/home/oytun/PycharmProjects/research/Data/solution_search")
compare_bar(5,dirs, graph_labels, AnalysisPolicy.MAX, True,
output_directory="/home/oytun/PycharmProjects/research/Data/solution_search")




x = plot_2d([[1,2,3],[4,5,6],[7,8,9]],[["a","b","c"],["a","b","c"],["a","b","c"]],[[0.1,0.2,0.3],[0.2,0.3,0.4],[0.1,0.2,0.3]],graph_labels=["asd","asd","asd"],show=True)
plot_bar([list(range(0,2)),list(range(5,7)),list(range(5,7))],["asd\nasd\nasd"]* 3, ["vvv"]*2,show=True)
plot_bar([list(range(0,2)),list(range(5,7)),list(range(5,7)),list(range(5,7))],["asd\nasd\nasd"]* 4, ["vvv"]*2,show=True)